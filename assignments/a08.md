# Assignment 8

This assignment is a tutorial in which we will write JavaScript code to make the browser send HTTP AJAX requests and receive the server's response. We'll use a third-party library called [Axios](https://github.com/axios/axios) to help us formulate the HTTP requests, send them, wait for them to finish, and process the response. Finally, we'll run the code we write directly in the Google Chrome browser and view the requests we make through Chrome's DevTools window.


## 1. Getting Started

1. Open Visual Studio Code and take a look at the a08 assignment directory.

2. You should see one HTML file (`a08/index.html`), one linked CSS file (`a08/style.css`), and one linked JavaScript file (`a08/script.js`). Open these files and skim their contents. 

3. Open a terminal in the a08 assignment directory and initialize a new npm project using `npm init`.

4. Use `npm install` to install the package `axios`. Refer to a02 or [the official Axios documentation](https://github.com/axios/axios#installing) if you need to review installing packages with npm.

5. Link the downloaded Axios library to the index.html file. To do this, find the Axios `TODO` comment in `a08/index.html` and add a `<script>` tag with `src` attribute pointing to the correct Axios `.js` file, located somewhere in the `a08/node_modules/axios` folder.

> **Hint**: If you're having trouble finding the correct file to link, refer to a02 and/or a04 to reread the process that we used to link to Bulma and jQuery. The Axios code is organized very similarly to jQuery; there is a special `dist` folder containing the relevant "distribution" Axios code.

6. Run `browser-sync -sw` to start the Browsersync local development server. This should automatically open a new browser tab showing the contents of `a08/index.html`.

> Note: If you get a `command not found` error, it likely means you have not installed Browsersync as a global npm package. Go back to Section 5.4 in Assignment a02 to see what it means to install packages globally, and follow the instructions to install Browsersync as a global npm package.


## 2. Using Axios

All the functionality provided by the Axios library comes packaged in a single object named `axios`. In particular, the `axios` object is a function. When you call it, the library automatically initiates an HTTP call for you according to the configuration you specify as arguments to the function. Here's a simple example of what this might look like in code:

```javascript
const result = await axios({
    method: 'get',
    url: 'https://comp426fa19.cs.unc.edu/a08/heroes',
});
```

This tells Axios to make a GET request to `https://comp426fa19.cs.unc.edu/a08/heroes`, and store the response in the `result` variable.

But wait! You may have noticed the `await` keyword in front of the function call to `axios()`. *This means that `axios()` is actually an async function*! That's right---a call to `axios()` actually returns a *promise* that resolves once the response is received from the server. This is fantastic news, because it means we can take advantage of the simple async/await syntax with Axios and can avoid using callbacks! It also makes total sense: HTTP requests are perfect candidates for promises and async/await because they are I/O-bound operations that take time to complete.

Once the `axios()` promise resolves, the data that was received in the HTTP response will be automatically stored in the `result` variable. Here's an example of what `result` may look like, taken directly from [the Axios documentation](https://github.com/axios/axios#response-schema).

```javascript
console.log(result);
{
  data: {},         // `data` is the response that was provided by the server
  
  status: 200,      // `status` is the HTTP status code from the server response
  
  statusText: 'OK', // `statusText` is the HTTP status message from the server response
  
  headers: {},      // `headers` the headers that the server responded with
                    // All header names are lower cased
               
  config: {},       // `config` is the config that was provided to `axios` for the request
  
  request: {}       // `request` is the request that generated this response
                    // It is the last ClientRequest instance in node.js (in
                    // redirects) and an XMLHttpRequest instance the browser
}
```

You can read [the official Axios documentation]([https://github.com/axios/axios](https://github.com/axios/axios))

https://github.com/axios/axios#request-config